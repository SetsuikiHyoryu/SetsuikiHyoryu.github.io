<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nushell 配置 fnm 使用 Node.js | 冰龍與雪風的工作室</title>
    <meta name="description" content="冰龍與雪風的博客">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/assets/style.DDyVCYgJ.css" as="style">
    
    <script type="module" src="/assets/app.CNTGaJ3U.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.Cbi_dvob.js">
    <link rel="modulepreload" href="/assets/chunks/theme.C0Ynwk0K.js">
    <link rel="modulepreload" href="/assets/zh_programming_coding-memo_nushell_nushell-fnm.md.CQxpRbLt.lean.js">
    <link rel="icon" href="/images/logo.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5ca1cff9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f9daa3df></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f9daa3df> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5ca1cff9 data-v-ee588f4d><div class="VPNavBar has-sidebar top" data-v-ee588f4d data-v-e9715e40><div class="wrapper" data-v-e9715e40><div class="container" data-v-e9715e40><div class="title" data-v-e9715e40><div class="VPNavBarTitle has-sidebar" data-v-e9715e40 data-v-9a710b06><a class="title" href="/zh/" data-v-9a710b06><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-1f2508f8><!--]--><span data-v-9a710b06>冰龍與雪風的工作室</span><!--[--><!--]--></a></div></div><div class="content" data-v-e9715e40><div class="content-body" data-v-e9715e40><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e9715e40><!----></div><!----><div class="VPFlyout VPNavBarTranslations translations" data-v-e9715e40 data-v-f3bd4b28 data-v-ed3b5bf3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-ed3b5bf3><span class="text" data-v-ed3b5bf3><span class="vpi-languages option-icon" data-v-ed3b5bf3></span><!----><span class="vpi-chevron-down text-icon" data-v-ed3b5bf3></span></span></button><div class="menu" data-v-ed3b5bf3><div class="VPMenu" data-v-ed3b5bf3 data-v-12ddc9d2><!----><!--[--><!--[--><div class="items" data-v-f3bd4b28><p class="title" data-v-f3bd4b28>中文</p><!--[--><div class="VPMenuLink" data-v-f3bd4b28 data-v-b74ad64a><a class="VPLink link" href="/ja/programming/coding-memo/nushell/nushell-fnm.html" data-v-b74ad64a><!--[-->日本語<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-e9715e40 data-v-2c1b7208><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to light theme" aria-checked="true" data-v-2c1b7208 data-v-ce156d2b data-v-ee3a441d><span class="check" data-v-ee3a441d><span class="icon" data-v-ee3a441d><!--[--><span class="vpi-sun sun" data-v-ce156d2b></span><span class="vpi-moon moon" data-v-ce156d2b></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e9715e40 data-v-2a049cf8 data-v-fafff2df><!--[--><a class="VPSocialLink no-icon" href="https://space.bilibili.com/262993" aria-label target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944>
<svg
  version="1.1"
  id="Bilibili"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  x="0px"
  y="0px"
  viewBox="0 0 2186.86 999.65"
  style="enable-background: new 0 0 2186.86 999.65"
  xml:space="preserve"
>
  <style type="text/css">
    .st0 {
      # fill: #07a3d7;
      fill: #888;
    }
  </style>
  <g>
    <path
      class="st0"
      d="M2030.61,892.82c-9.77,0-18.55,0-26.37-0.98c-16.6-0.97-33.2-1.95-49.8-1.95c-10.74,0-10.74,0-11.72-10.74
           l-15.63-177.74l-15.62-147.46l-10.74-90.82l-9.77-79.1l-17.58-123.05c-5.86-43.94-12.69-86.91-21.48-130.86
           c-0.98-6.83-0.98-7.81,6.84-8.79c30.27-5.86,61.52-8.79,92.77-8.79h10.74c4.88,0.98,7.81,3.91,8.79,9.77l3.91,67.38l27.34,364.26
           l13.67,166.99l8.79,95.71L2030.61,892.82L2030.61,892.82z M833.34,112.54h17.58c8.79,0,10.74,2.93,10.74,11.72l7.82,118.17
           l17.58,245.11l10.74,127.93l7.81,98.64l15.63,169.92c0,7.81-0.98,8.79-8.79,8.79l-70.32-2.93c-4.88,0.98-7.81-1.95-7.81-6.84
           l-2.93-34.18c-2.93-29.29-5.86-58.59-7.81-88.86l-15.63-154.3l-16.6-139.65l-11.72-98.63l-12.69-89.85
           c-5.86-40.04-12.7-81.05-19.53-121.09l-4.89-27.34c-0.97-4.89,0-6.84,4.89-7.82C774.75,116.45,801.12,111.57,833.34,112.54
           L833.34,112.54L833.34,112.54z M1815.77,506.1c24.41,0,27.34,0.98,31.25,24.41c4.88,29.3,8.79,58.6,11.72,87.89l10.74,94.73
           l20.51,201.17c0.97,4.89,0,6.84-4.89,6.84l-76.17,8.79c-7.81,0.97-9.77,0-10.74-7.81l-43.95-224.61l-27.34-149.42l-3.91-20.51
           c-0.97-3.9,0.98-6.83,4.89-7.81C1758.15,512.94,1787.45,508.05,1815.77,506.1L1815.77,506.1L1815.77,506.1z M705.41,506.1
           c26.37-0.98,29.3,1.95,32.23,26.37c6.84,40.04,11.72,79.1,15.63,119.14l12.69,117.18l7.81,79.11l6.84,63.47
           c0,8.79-0.98,10.75-8.79,11.72l-72.26,6.84c-7.82,0.97-9.77,0-10.75-7.81l-59.57-306.65l-15.62-86.91
           c-0.98-4.88,0.97-7.81,5.86-8.79C649.75,512.94,678.07,508.05,705.41,506.1L705.41,506.1L705.41,506.1z M1078.46,808.83v121.1v3.9
           c0.98,5.86-1.95,8.79-7.81,7.82h-23.44c-16.6,0-33.2,0.97-49.8,1.95c-8.79,0.98-9.77,0.98-10.75-9.77l-15.62-175.78l-7.81-86.91
           l-11.72-132.81c-0.98-10.75,0.98-12.7,9.76-13.68c27.35-2.93,54.69-2.93,82.04-1.95l20.5,2.93c7.82,2.93,8.79,3.91,8.79,11.72
           l2.93,52.73l0.98,58.6C1077.49,702.39,1078.46,755.12,1078.46,808.83L1078.46,808.83L1078.46,808.83z M2186.86,814.69v114.26v5.86
           c0,4.88-1.95,7.81-6.84,6.84h-35.15c-13.67,0-27.35,0.97-40.04,1.95c-7.81,0.98-8.79,0-9.77-8.79l-20.5-228.52l-10.75-113.28
           l-3.9-57.61c-0.98-7.82,0.97-9.77,8.79-9.77c32.22-3.91,65.43-4.88,97.65-0.98c12.7,0.98,14.65,4.89,15.63,17.58l2.93,129.88
           L2186.86,814.69L2186.86,814.69z M1787.45,298.09c9.76,0,18.55,0.98,25.39,1.95c4.88,0.98,6.83,2.93,7.81,7.82l12.69,135.74
           c2.93,11.72,0.98,13.67-10.74,13.67l-33.2,1.95c-6.84,0.98-9.77,1.96-9.77-8.78l-13.67-110.36l-3.9-31.25
           c-0.98-5.86,0.97-8.79,6.83-9.76L1787.45,298.09L1787.45,298.09z M681,298.09c7.81,0,15.63,0.98,22.46,1.95
           c3.91,0.98,5.86,2.93,6.84,7.82l3.9,34.18l9.77,106.44c0.98,7.81,0.98,8.79-6.84,8.79l-38.08,1.95c-7.81,0.98-8.79,0-9.77-7.81
           l-8.79-78.12l-7.81-65.43c-0.98-4.89,0.98-7.82,5.86-7.82C665.38,299.07,673.19,298.09,681,298.09L681,298.09L681,298.09z
            M1070.65,395.75v67.38c0.98,10.74-0.98,10.74-9.77,10.74c-12.69,0-24.41-0.97-36.13-1.95c-7.81-0.98-8.79-0.98-7.81-8.79
           l-2.93-83.01c0-18.55,0-37.11-0.98-55.66c-0.97-8.79,0-9.77,8.79-9.77c13.67,0,27.34,0.98,41.02,2.93c7.81,0,7.81,1.96,7.81,9.77
           V395.75L1070.65,395.75z M2180.02,396.72v67.39c0,8.79-0.97,9.76-9.76,9.76l-37.11-1.95c-5.86-0.98-8.79-3.91-7.81-8.79
           l-2.93-139.65c0-7.81,0.97-8.79,8.79-8.79c12.69,0,24.41,0.98,36.13,1.96c14.65,0.97,12.69,3.9,12.69,14.64L2180.02,396.72
           L2180.02,396.72z M650.73,449.46c0.97,11.72,0,13.67-11.72,14.65l-23.44,5.86c-7.81,2.93-8.79,0.97-9.76-5.86l-24.42-137.7
           c-2.93-8.79-0.98-10.74,7.81-11.72l34.18-5.86c7.82-0.97,9.77-0.97,9.77,6.84c2.93,16.6,5.86,33.2,7.81,49.8l9.77,78.13
           L650.73,449.46L650.73,449.46z M1689.79,315.67c14.65-2.93,30.27-4.88,45.9-6.84c4.88-0.97,6.83,1.96,7.81,6.84l7.81,53.71
           c3.91,26.37,6.84,52.73,7.82,79.1v7.81c0.97,3.91-0.98,6.84-4.89,7.82l-31.25,6.83c-4.88,0.98-6.83-0.97-7.81-5.86l-25.39-145.5
           V315.67L1689.79,315.67z M996.43,421.14c0,15.62-0.98,30.27-1.95,43.94c0,4.89-1.96,6.84-6.84,7.82l-30.27,2.93
           c-4.88,0.97-6.84-1.96-6.84-6.84c-1.95-14.65-2.93-28.32-3.9-42.97c-1.96-26.37-3.91-53.71-4.89-81.05l-1.95-19.53
           c-0.98-3.91,0.98-5.86,4.88-5.86l40.04-2.93c6.84,0,8.79,0.97,8.79,8.79L996.43,421.14L996.43,421.14z M2103.85,405.51
           c0.98,18.56,0.98,38.09,0,56.64c0.98,8.79-0.97,10.75-9.76,10.75l-27.35,2.93c-4.88,0.97-7.81-1.96-7.81-6.84
           c-0.98-24.41-2.93-49.8-4.88-74.22l-3.91-68.36c-0.98-4.88,0.98-6.83,4.88-6.83l39.07-2.93c6.83,0,7.81,0.97,7.81,8.79
           C2103.85,351.8,2104.83,379.15,2103.85,405.51L2103.85,405.51L2103.85,405.51z M612.64,738.52c15.63,18.56,18.56,39.06,11.72,61.52
           c-5.86,21.49-16.6,40.04-32.23,55.67c-25.39,26.37-54.68,47.85-86.91,64.45c-55.66,29.3-113.28,49.81-174.81,60.55
           c-43.94,8.79-87.89,14.65-131.83,17.58c-13.67,0.97-27.34,0.97-41.02,0.97h-29.29c-7.82,0-9.77-1.95-10.75-9.76l-6.83-94.73
           L92.13,708.25l-20.5-177.74l-11.72-94.72l-12.7-90.82c-6.83-49.81-15.62-99.61-24.41-149.42C15.96,155.51,9.13,115.47,0.34,75.44
           c-0.98-4.89,0-8.79,4.88-9.77L140.96,9.03c8.79-3.91,16.6-6.84,25.39-8.79c5.86-0.98,8.79,0.98,7.81,6.84
           c0,15.62,0,31.25-0.97,47.85l-0.98,12.69c-0.97,56.64-0.97,113.28,0,170.9c0.98,49.81,3.91,100.59,6.84,150.39
           c4.88,78.13,12.69,156.25,20.51,233.4c0,7.81,0.97,7.81,9.76,6.84c16.6-2.93,32.23-3.91,48.83-3.91
           c51.76,0,103.51,5.86,153.32,18.55c43.94,10.75,85.94,25.4,127.93,43.95c20.51,9.77,39.06,21.48,56.64,35.16
           C602.88,727.78,607.76,732.66,612.64,738.52L612.64,738.52L612.64,738.52z M1713.23,729.73c20.51,16.6,27.34,39.06,21.48,65.43
           c-4.88,21.49-14.65,40.04-29.3,56.64c-23.43,26.37-50.78,46.88-81.05,63.48c-58.59,32.23-121.09,54.69-187.5,66.41
           c-36.13,6.83-72.27,12.69-108.4,15.62c-20.51,1.95-42.97,2.93-65.43,1.95h-26.37c-5.85,0.98-8.78-1.95-8.78-7.81
           c-1.96-27.34-3.91-54.69-6.84-82.03l-15.63-166.99l-16.6-145.51l-20.5-164.06c-2.93-28.32-6.84-57.62-11.72-85.94l-17.58-109.38
           c-7.81-51.75-17.58-103.51-28.32-155.27l-0.98-6.83c-1.95-4.89,0-8.79,4.88-9.77c47.86-19.53,94.73-41.02,142.58-59.57
           c12.7-4.88,28.32-10.74,27.35,0.98c-3.91,36.13-2.93,72.26-3.91,107.42c-0.98,29.29-0.98,58.59,0.98,86.91v22.46
           c0,35.16,0.97,70.32,3.9,104.49c1.96,45.9,4.89,92.78,8.79,138.68l8.79,98.63c0.98,18.55,2.93,36.13,5.86,54.69
           c0,10.74,1.95,9.76,10.74,8.79c17.58-2.93,35.16-3.91,52.74-3.91c61.52,0.98,121.09,10.74,179.68,27.34
           c40.04,10.75,78.13,25.39,115.24,44.93C1683.93,706.29,1698.58,717.04,1713.23,729.73L1713.23,729.73L1713.23,729.73z
            M301.12,901.61c14.65-8.79,40.04-26.37,75.19-53.71c35.16-28.32,56.64-46.88,65.43-56.64c-52.73-23.44-107.42-43.95-164.06-62.5
           L301.12,901.61L301.12,901.61z M1548.19,796.14c2.93-2.93,1.95-4.88-0.98-6.84l-23.44-9.76c-41.01-17.58-82.03-33.21-124.02-46.88
           l-5.86-1.95c-1.95-0.98-3.9,0-6.83,0.98l23.43,168.94c2.93,0,4.89-0.98,5.86-1.95c38.09-27.35,76.17-55.67,114.26-85.94
           L1548.19,796.14L1548.19,796.14z"
    />
  </g>
</svg>
</a><a class="VPSocialLink no-icon" href="https://twitter.com/Setsuiki_Hyoryu" aria-label="twitter" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-twitter" /></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/channel/UCUeg9mYxtAp3ZqHfahPAPbQ/featured" aria-label="youtube" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-youtube" /></a><a class="VPSocialLink no-icon" href="https://github.com/SetsuikiHyoryu/SetsuikiHyoryu.github.io" aria-label="github" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e9715e40 data-v-c5d8f89e data-v-ed3b5bf3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ed3b5bf3><span class="vpi-more-horizontal icon" data-v-ed3b5bf3></span></button><div class="menu" data-v-ed3b5bf3><div class="VPMenu" data-v-ed3b5bf3 data-v-12ddc9d2><!----><!--[--><!--[--><div class="group translations" data-v-c5d8f89e><p class="trans-title" data-v-c5d8f89e>中文</p><!--[--><div class="VPMenuLink" data-v-c5d8f89e data-v-b74ad64a><a class="VPLink link" href="/ja/programming/coding-memo/nushell/nushell-fnm.html" data-v-b74ad64a><!--[-->日本語<!--]--></a></div><!--]--></div><div class="group" data-v-c5d8f89e><div class="item appearance" data-v-c5d8f89e><p class="label" data-v-c5d8f89e>Appearance</p><div class="appearance-action" data-v-c5d8f89e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to light theme" aria-checked="true" data-v-c5d8f89e data-v-ce156d2b data-v-ee3a441d><span class="check" data-v-ee3a441d><span class="icon" data-v-ee3a441d><!--[--><span class="vpi-sun sun" data-v-ce156d2b></span><span class="vpi-moon moon" data-v-ce156d2b></span><!--]--></span></span></button></div></div></div><div class="group" data-v-c5d8f89e><div class="item social-links" data-v-c5d8f89e><div class="VPSocialLinks social-links-list" data-v-c5d8f89e data-v-fafff2df><!--[--><a class="VPSocialLink no-icon" href="https://space.bilibili.com/262993" aria-label target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944>
<svg
  version="1.1"
  id="Bilibili"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  x="0px"
  y="0px"
  viewBox="0 0 2186.86 999.65"
  style="enable-background: new 0 0 2186.86 999.65"
  xml:space="preserve"
>
  <style type="text/css">
    .st0 {
      # fill: #07a3d7;
      fill: #888;
    }
  </style>
  <g>
    <path
      class="st0"
      d="M2030.61,892.82c-9.77,0-18.55,0-26.37-0.98c-16.6-0.97-33.2-1.95-49.8-1.95c-10.74,0-10.74,0-11.72-10.74
           l-15.63-177.74l-15.62-147.46l-10.74-90.82l-9.77-79.1l-17.58-123.05c-5.86-43.94-12.69-86.91-21.48-130.86
           c-0.98-6.83-0.98-7.81,6.84-8.79c30.27-5.86,61.52-8.79,92.77-8.79h10.74c4.88,0.98,7.81,3.91,8.79,9.77l3.91,67.38l27.34,364.26
           l13.67,166.99l8.79,95.71L2030.61,892.82L2030.61,892.82z M833.34,112.54h17.58c8.79,0,10.74,2.93,10.74,11.72l7.82,118.17
           l17.58,245.11l10.74,127.93l7.81,98.64l15.63,169.92c0,7.81-0.98,8.79-8.79,8.79l-70.32-2.93c-4.88,0.98-7.81-1.95-7.81-6.84
           l-2.93-34.18c-2.93-29.29-5.86-58.59-7.81-88.86l-15.63-154.3l-16.6-139.65l-11.72-98.63l-12.69-89.85
           c-5.86-40.04-12.7-81.05-19.53-121.09l-4.89-27.34c-0.97-4.89,0-6.84,4.89-7.82C774.75,116.45,801.12,111.57,833.34,112.54
           L833.34,112.54L833.34,112.54z M1815.77,506.1c24.41,0,27.34,0.98,31.25,24.41c4.88,29.3,8.79,58.6,11.72,87.89l10.74,94.73
           l20.51,201.17c0.97,4.89,0,6.84-4.89,6.84l-76.17,8.79c-7.81,0.97-9.77,0-10.74-7.81l-43.95-224.61l-27.34-149.42l-3.91-20.51
           c-0.97-3.9,0.98-6.83,4.89-7.81C1758.15,512.94,1787.45,508.05,1815.77,506.1L1815.77,506.1L1815.77,506.1z M705.41,506.1
           c26.37-0.98,29.3,1.95,32.23,26.37c6.84,40.04,11.72,79.1,15.63,119.14l12.69,117.18l7.81,79.11l6.84,63.47
           c0,8.79-0.98,10.75-8.79,11.72l-72.26,6.84c-7.82,0.97-9.77,0-10.75-7.81l-59.57-306.65l-15.62-86.91
           c-0.98-4.88,0.97-7.81,5.86-8.79C649.75,512.94,678.07,508.05,705.41,506.1L705.41,506.1L705.41,506.1z M1078.46,808.83v121.1v3.9
           c0.98,5.86-1.95,8.79-7.81,7.82h-23.44c-16.6,0-33.2,0.97-49.8,1.95c-8.79,0.98-9.77,0.98-10.75-9.77l-15.62-175.78l-7.81-86.91
           l-11.72-132.81c-0.98-10.75,0.98-12.7,9.76-13.68c27.35-2.93,54.69-2.93,82.04-1.95l20.5,2.93c7.82,2.93,8.79,3.91,8.79,11.72
           l2.93,52.73l0.98,58.6C1077.49,702.39,1078.46,755.12,1078.46,808.83L1078.46,808.83L1078.46,808.83z M2186.86,814.69v114.26v5.86
           c0,4.88-1.95,7.81-6.84,6.84h-35.15c-13.67,0-27.35,0.97-40.04,1.95c-7.81,0.98-8.79,0-9.77-8.79l-20.5-228.52l-10.75-113.28
           l-3.9-57.61c-0.98-7.82,0.97-9.77,8.79-9.77c32.22-3.91,65.43-4.88,97.65-0.98c12.7,0.98,14.65,4.89,15.63,17.58l2.93,129.88
           L2186.86,814.69L2186.86,814.69z M1787.45,298.09c9.76,0,18.55,0.98,25.39,1.95c4.88,0.98,6.83,2.93,7.81,7.82l12.69,135.74
           c2.93,11.72,0.98,13.67-10.74,13.67l-33.2,1.95c-6.84,0.98-9.77,1.96-9.77-8.78l-13.67-110.36l-3.9-31.25
           c-0.98-5.86,0.97-8.79,6.83-9.76L1787.45,298.09L1787.45,298.09z M681,298.09c7.81,0,15.63,0.98,22.46,1.95
           c3.91,0.98,5.86,2.93,6.84,7.82l3.9,34.18l9.77,106.44c0.98,7.81,0.98,8.79-6.84,8.79l-38.08,1.95c-7.81,0.98-8.79,0-9.77-7.81
           l-8.79-78.12l-7.81-65.43c-0.98-4.89,0.98-7.82,5.86-7.82C665.38,299.07,673.19,298.09,681,298.09L681,298.09L681,298.09z
            M1070.65,395.75v67.38c0.98,10.74-0.98,10.74-9.77,10.74c-12.69,0-24.41-0.97-36.13-1.95c-7.81-0.98-8.79-0.98-7.81-8.79
           l-2.93-83.01c0-18.55,0-37.11-0.98-55.66c-0.97-8.79,0-9.77,8.79-9.77c13.67,0,27.34,0.98,41.02,2.93c7.81,0,7.81,1.96,7.81,9.77
           V395.75L1070.65,395.75z M2180.02,396.72v67.39c0,8.79-0.97,9.76-9.76,9.76l-37.11-1.95c-5.86-0.98-8.79-3.91-7.81-8.79
           l-2.93-139.65c0-7.81,0.97-8.79,8.79-8.79c12.69,0,24.41,0.98,36.13,1.96c14.65,0.97,12.69,3.9,12.69,14.64L2180.02,396.72
           L2180.02,396.72z M650.73,449.46c0.97,11.72,0,13.67-11.72,14.65l-23.44,5.86c-7.81,2.93-8.79,0.97-9.76-5.86l-24.42-137.7
           c-2.93-8.79-0.98-10.74,7.81-11.72l34.18-5.86c7.82-0.97,9.77-0.97,9.77,6.84c2.93,16.6,5.86,33.2,7.81,49.8l9.77,78.13
           L650.73,449.46L650.73,449.46z M1689.79,315.67c14.65-2.93,30.27-4.88,45.9-6.84c4.88-0.97,6.83,1.96,7.81,6.84l7.81,53.71
           c3.91,26.37,6.84,52.73,7.82,79.1v7.81c0.97,3.91-0.98,6.84-4.89,7.82l-31.25,6.83c-4.88,0.98-6.83-0.97-7.81-5.86l-25.39-145.5
           V315.67L1689.79,315.67z M996.43,421.14c0,15.62-0.98,30.27-1.95,43.94c0,4.89-1.96,6.84-6.84,7.82l-30.27,2.93
           c-4.88,0.97-6.84-1.96-6.84-6.84c-1.95-14.65-2.93-28.32-3.9-42.97c-1.96-26.37-3.91-53.71-4.89-81.05l-1.95-19.53
           c-0.98-3.91,0.98-5.86,4.88-5.86l40.04-2.93c6.84,0,8.79,0.97,8.79,8.79L996.43,421.14L996.43,421.14z M2103.85,405.51
           c0.98,18.56,0.98,38.09,0,56.64c0.98,8.79-0.97,10.75-9.76,10.75l-27.35,2.93c-4.88,0.97-7.81-1.96-7.81-6.84
           c-0.98-24.41-2.93-49.8-4.88-74.22l-3.91-68.36c-0.98-4.88,0.98-6.83,4.88-6.83l39.07-2.93c6.83,0,7.81,0.97,7.81,8.79
           C2103.85,351.8,2104.83,379.15,2103.85,405.51L2103.85,405.51L2103.85,405.51z M612.64,738.52c15.63,18.56,18.56,39.06,11.72,61.52
           c-5.86,21.49-16.6,40.04-32.23,55.67c-25.39,26.37-54.68,47.85-86.91,64.45c-55.66,29.3-113.28,49.81-174.81,60.55
           c-43.94,8.79-87.89,14.65-131.83,17.58c-13.67,0.97-27.34,0.97-41.02,0.97h-29.29c-7.82,0-9.77-1.95-10.75-9.76l-6.83-94.73
           L92.13,708.25l-20.5-177.74l-11.72-94.72l-12.7-90.82c-6.83-49.81-15.62-99.61-24.41-149.42C15.96,155.51,9.13,115.47,0.34,75.44
           c-0.98-4.89,0-8.79,4.88-9.77L140.96,9.03c8.79-3.91,16.6-6.84,25.39-8.79c5.86-0.98,8.79,0.98,7.81,6.84
           c0,15.62,0,31.25-0.97,47.85l-0.98,12.69c-0.97,56.64-0.97,113.28,0,170.9c0.98,49.81,3.91,100.59,6.84,150.39
           c4.88,78.13,12.69,156.25,20.51,233.4c0,7.81,0.97,7.81,9.76,6.84c16.6-2.93,32.23-3.91,48.83-3.91
           c51.76,0,103.51,5.86,153.32,18.55c43.94,10.75,85.94,25.4,127.93,43.95c20.51,9.77,39.06,21.48,56.64,35.16
           C602.88,727.78,607.76,732.66,612.64,738.52L612.64,738.52L612.64,738.52z M1713.23,729.73c20.51,16.6,27.34,39.06,21.48,65.43
           c-4.88,21.49-14.65,40.04-29.3,56.64c-23.43,26.37-50.78,46.88-81.05,63.48c-58.59,32.23-121.09,54.69-187.5,66.41
           c-36.13,6.83-72.27,12.69-108.4,15.62c-20.51,1.95-42.97,2.93-65.43,1.95h-26.37c-5.85,0.98-8.78-1.95-8.78-7.81
           c-1.96-27.34-3.91-54.69-6.84-82.03l-15.63-166.99l-16.6-145.51l-20.5-164.06c-2.93-28.32-6.84-57.62-11.72-85.94l-17.58-109.38
           c-7.81-51.75-17.58-103.51-28.32-155.27l-0.98-6.83c-1.95-4.89,0-8.79,4.88-9.77c47.86-19.53,94.73-41.02,142.58-59.57
           c12.7-4.88,28.32-10.74,27.35,0.98c-3.91,36.13-2.93,72.26-3.91,107.42c-0.98,29.29-0.98,58.59,0.98,86.91v22.46
           c0,35.16,0.97,70.32,3.9,104.49c1.96,45.9,4.89,92.78,8.79,138.68l8.79,98.63c0.98,18.55,2.93,36.13,5.86,54.69
           c0,10.74,1.95,9.76,10.74,8.79c17.58-2.93,35.16-3.91,52.74-3.91c61.52,0.98,121.09,10.74,179.68,27.34
           c40.04,10.75,78.13,25.39,115.24,44.93C1683.93,706.29,1698.58,717.04,1713.23,729.73L1713.23,729.73L1713.23,729.73z
            M301.12,901.61c14.65-8.79,40.04-26.37,75.19-53.71c35.16-28.32,56.64-46.88,65.43-56.64c-52.73-23.44-107.42-43.95-164.06-62.5
           L301.12,901.61L301.12,901.61z M1548.19,796.14c2.93-2.93,1.95-4.88-0.98-6.84l-23.44-9.76c-41.01-17.58-82.03-33.21-124.02-46.88
           l-5.86-1.95c-1.95-0.98-3.9,0-6.83,0.98l23.43,168.94c2.93,0,4.89-0.98,5.86-1.95c38.09-27.35,76.17-55.67,114.26-85.94
           L1548.19,796.14L1548.19,796.14z"
    />
  </g>
</svg>
</a><a class="VPSocialLink no-icon" href="https://twitter.com/Setsuiki_Hyoryu" aria-label="twitter" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-twitter" /></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/channel/UCUeg9mYxtAp3ZqHfahPAPbQ/featured" aria-label="youtube" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-youtube" /></a><a class="VPSocialLink no-icon" href="https://github.com/SetsuikiHyoryu/SetsuikiHyoryu.github.io" aria-label="github" target="_blank" rel="noopener" data-v-fafff2df data-v-c6f32944><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e9715e40 data-v-74851c52><span class="container" data-v-74851c52><span class="top" data-v-74851c52></span><span class="middle" data-v-74851c52></span><span class="bottom" data-v-74851c52></span></span></button></div></div></div></div><div class="divider" data-v-e9715e40><div class="divider-line" data-v-e9715e40></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5ca1cff9 data-v-2ac6021c><div class="container" data-v-2ac6021c><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2ac6021c><span class="vpi-align-left menu-icon" data-v-2ac6021c></span><span class="menu-text" data-v-2ac6021c>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2ac6021c data-v-96d6d86b><button data-v-96d6d86b>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5ca1cff9 data-v-1dffa258><div class="curtain" data-v-1dffa258></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-1dffa258><span class="visually-hidden" id="sidebar-aria-label" data-v-1dffa258> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>编程 - 备忘录</h2><!----></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>回到首页</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>Neovim</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/neovim/neovim-garbled-characters.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Neovim 修改文件文字编码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/neovim/neovim-fold-commands.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Neovim 0.10 内置折叠命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/neovim/neovim-global-replace.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Neovim 全局替换</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible has-active" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>Nushell</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/nushell/nushell-fnm.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Nushell 配置 fnm 使用 Node.js</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>配置路径</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/maven-repository.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Maven 配置依赖包安装路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/rust-change-windows-kits-root.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>Rust | 更改 Windows Kits (SDK) 安装路径</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>工具美化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/custom-git-bash-prompt.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>自定义 Git Bash 命令行提示符（Prompt）</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>版本管理</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/git-unpushed.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>git 原生命令查看未上传提交记录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/github-multiple-account.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>GitHub 多账户管理及匿名邮箱</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/fork-branch-changes-by-forked-repository-user.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>由被 fork 的仓库的用户修改 fork 分支</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-0d3e8c16><section class="VPSidebarItem level-0 collapsible" data-v-0d3e8c16 data-v-66ec375e><div class="item" role="button" tabindex="0" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><h2 class="text" data-v-66ec375e>其他</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66ec375e><span class="vpi-chevron-right caret-icon" data-v-66ec375e></span></div></div><div class="items" data-v-66ec375e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66ec375e data-v-66ec375e><div class="item" data-v-66ec375e><div class="indicator" data-v-66ec375e></div><a class="VPLink link link" href="/zh/programming/coding-memo/lan-share.html" data-v-66ec375e><!--[--><p class="text" data-v-66ec375e>使用 LAN 共享文件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5ca1cff9 data-v-09bf0c2f><div class="VPDoc has-sidebar has-aside" data-v-09bf0c2f data-v-ec29a441><!--[--><!--]--><div class="container" data-v-ec29a441><div class="aside" data-v-ec29a441><div class="aside-curtain" data-v-ec29a441></div><div class="aside-container" data-v-ec29a441><div class="aside-content" data-v-ec29a441><div class="VPDocAside" data-v-ec29a441 data-v-7360ba8f><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-7360ba8f data-v-c9b9d436><div class="content" data-v-c9b9d436><div class="outline-marker" data-v-c9b9d436></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c9b9d436>Outline</div><ul class="VPDocOutlineItem root" data-v-c9b9d436 data-v-dc4d1d25><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-7360ba8f></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ec29a441><div class="content-container" data-v-ec29a441><!--[--><!--]--><main class="main" data-v-ec29a441><div style="position:relative;" class="vp-doc _zh_programming_coding-memo_nushell_nushell-fnm" data-v-ec29a441><div><h1 id="nushell-配置-fnm-使用-node-js" tabindex="-1">Nushell 配置 fnm 使用 Node.js <a class="header-anchor" href="#nushell-配置-fnm-使用-node-js" aria-label="Permalink to &quot;Nushell 配置 fnm 使用 Node.js&quot;">​</a></h1><h2 id="版本" tabindex="-1">版本 <a class="header-anchor" href="#版本" aria-label="Permalink to &quot;版本&quot;">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>版本</th></tr></thead><tbody><tr><td>Nushell</td><td>0.98.0</td></tr><tr><td>fnm</td><td>1.37.1</td></tr></tbody></table><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>在 <code>$nu.env-path</code> 中设置以下内容：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 这段注释是官方教程</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># To add entries to PATH (on Windows you might use Path), you can use the following pattern:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $env.PATH = ($env.PATH | split row (char esep) | prepend &#39;/some/path&#39;)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># An alternate way to add entries to $env.PATH is to use the custom command `path add`</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># which is built into the nushell stdlib:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># use std &quot;path add&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $env.PATH = ($env.PATH | split row (char esep))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># path add /some/path</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># path add ($env.CARGO_HOME | path join &quot;bin&quot;)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># path add ($env.HOME | path join &quot;.local&quot; &quot;bin&quot;)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># $env.PATH = ($env.PATH | uniq)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> load-env</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果是 Linux，则 `node` 在 `$env.FNM_MULTISHELL_PATH jon &quot;bin` 中。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> split row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char esep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> prepend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.FNM_MULTISHELL_PATH)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> uniq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> )</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="推导流程" tabindex="-1">推导流程 <a class="header-anchor" href="#推导流程" aria-label="Permalink to &quot;推导流程&quot;">​</a></h2><h3 id="观察安装完-fnm-后的设置" tabindex="-1">观察安装完 fnm 后的设置 <a class="header-anchor" href="#观察安装完-fnm-后的设置" aria-label="Permalink to &quot;观察安装完 fnm 后的设置&quot;">​</a></h3><p>以 PowerShell 为例，根据 fnm <a href="https://github.com/Schniz/fnm?tab=readme-ov-file#powershell" target="_blank" rel="noreferrer">官方的设置文档</a>可知，在安装完 fnm 后，需要在 PowerShell 的配置文件 <code>Microsoft.PowerShell_profile.ps1</code> 中添加以下语句：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --use-on-cd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> power-shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Out-String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Invoke-Expression</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>从这句话可以判断出，在启动 PowerShell 后，它需要以 <code>power-shell</code> 的参数执行 <code>fnm env</code> 命令，并调用 <a href="https://learn.microsoft.com/zh-cn/powershell/module/microsoft.powershell.utility/invoke-expression?view=powershell-7.4" target="_blank" rel="noreferrer"><code>Invoke-Expression</code></a> 以执行 <a href="https://learn.microsoft.com/zh-cn/powershell/module/microsoft.powershell.utility/out-string?view=powershell-7.4" target="_blank" rel="noreferrer"><code>Out-String</code></a> 输出的字符串。</p><p>检查 <code>Out-String</code> 可以得到许多类似于下文这样的语句：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$env:FNM_LOGLEVEL = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;info&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这是 PowerShell 的环境变量设置语句。</p><h3 id="调查-fnm-env-命令的实装" tabindex="-1">调查 <code>fnm env</code> 命令的实装 <a class="header-anchor" href="#调查-fnm-env-命令的实装" aria-label="Permalink to &quot;调查 `fnm env` 命令的实装&quot;">​</a></h3><h4 id="fmn-程序入口" tabindex="-1">fmn 程序入口 <a class="header-anchor" href="#fmn-程序入口" aria-label="Permalink to &quot;fmn 程序入口&quot;">​</a></h4><p><a href="https://github.com/Schniz/fnm/blob/master/src/main.rs" target="_blank" rel="noreferrer"><code>src/main.rs</code></a>:</p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    env_logger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 推测由此处解析了 `fnm env` 及之后的参数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> crate::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cli</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 推测此处调用 `env` 这个 `subcmd` 的 `call` 方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">subcmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="调查-subcmd" tabindex="-1">调查 <code>subcmd</code> <a class="header-anchor" href="#调查-subcmd" aria-label="Permalink to &quot;调查 `subcmd`&quot;">​</a></h4><p>检查 <code>value.subcmd.call(value.config)</code> 语句中 <code>subcmd</code> 的参照:</p><p><a href="https://github.com/Schniz/fnm/blob/master/src/cli.rs#L100" target="_blank" rel="noreferrer"><code>src/cli.rs</code></a>:</p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// A fast and simple Node.js manager.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#[derive(clap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Parser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#[clap(name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fnm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;CARGO_PKG_VERSION&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), bin_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fnm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Cli</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    #[clap(flatten)]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FnmConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    #[clap(subcommand)]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 由此处可知 `subcmd` 是 `SubCommand` 结构体的实例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subcmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SubCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="调查-subcommand-中-call-方法的实现" tabindex="-1">调查 <code>SubCommand</code> 中 <code>call</code> 方法的实现 <a class="header-anchor" href="#调查-subcommand-中-call-方法的实现" aria-label="Permalink to &quot;调查 `SubCommand` 中 `call` 方法的实现&quot;">​</a></h4><p>检查 <code>value.subcmd.call(value.config)</code> 语句中 <code>call</code> 的参照:</p><p><a href="https://github.com/Schniz/fnm/blob/master/src/cli.rs#L75" target="_blank" rel="noreferrer"><code>src/cli.rs</code></a>:</p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">impl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SubCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FnmConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        match</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LsLocal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LsRemote</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Install</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 可知 `fnm env` 应当是走进了这个分支</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Completions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Alias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Current</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Uninstall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Unalias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmd) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cmd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="调查-cmd-实例及-call-实现" tabindex="-1">调查 <code>cmd</code> 实例及 <code>.call</code> 实现 <a class="header-anchor" href="#调查-cmd-实例及-call-实现" aria-label="Permalink to &quot;调查 `cmd` 实例及 `.call` 实现&quot;">​</a></h4><p>检查 <code>Self::Env(cmd) =&gt; cmd.call(config),</code> 语句中的 <code>cmd</code> 参照：</p><p><a href="https://github.com/Schniz/fnm/blob/master/src/cli.rs#L33" target="_blank" rel="noreferrer"><code>src/cli.rs</code></a>:</p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SubCommand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// Print and set up required environment variables for fnm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    ///</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// This command generates a series of shell commands that</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// should be evaluated by your shell to create a fnm-ready environment.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    ///</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// Each shell has its own syntax of evaluating a dynamic expression.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// For example, evaluating fnm on Bash and Zsh would look like `eval &quot;$(fnm env)&quot;`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /// In Fish, evaluating would look like `fnm env | source`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    #[clap(name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, bin_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">commands</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>检查 <code>Env(commands::env::Env)</code> 中的 <code>Env</code> 参照：</p><p><a href="https://github.com/Schniz/fnm/blob/master/src/commands/env.rs#L60" target="_blank" rel="noreferrer"><code>src/commands/env.rs</code></a></p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">impl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FnmConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>检查 <code>Command</code> 特征：</p><p><a href="https://github.com/Schniz/fnm/blob/master/src/commands/command.rs#L5" target="_blank" rel="noreferrer"><code>src/commands/command.rs</code></a></p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">pub</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> trait</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Sized</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FnmConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 可知上文的 `cmd.call` 即是调用了 `Env` 结构体实例的 `apply` 方法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        match</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            Err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handle_error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="调查-env-结构体中的-apply-方法的实现" tabindex="-1">调查 <code>Env</code> 结构体中的 <code>apply</code> 方法的实现 <a class="header-anchor" href="#调查-env-结构体中的-apply-方法的实现" aria-label="Permalink to &quot;调查 `Env` 结构体中的 `apply` 方法的实现&quot;">​</a></h4><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">impl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Command</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FnmConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> multishell_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> make_symlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> base_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base_dir_with_default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> env_vars </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_MULTISHELL_PATH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, multishell_path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unwrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;FNM_VERSION_FILE_STRATEGY&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">version_file_strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_DIR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, base_dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unwrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_LOGLEVEL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log_level</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_NODE_DIST_MIRROR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">node_dist_mirror</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                &quot;FNM_COREPACK_ENABLED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                bool_as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">corepack_enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_RESOLVE_ENGINES&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bool_as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve_engines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;FNM_ARCH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">as_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Box</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">dyn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">shell</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Into</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">into)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">or_else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(infer_shell)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ok_or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CantInferShell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 可以推测这里将 `FNM_MULTISHELL_PATH` 的值和 Windows 的 `PATH` 变量进行了交互</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> binary_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cfg!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(windows) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">multishell_path)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">multishell_path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        println!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, binary_path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h4 id="检查-shell-path-方法的实现" tabindex="-1">检查 <code>shell.path</code> 方法的实现 <a class="header-anchor" href="#检查-shell-path-方法的实现" aria-label="Permalink to &quot;检查 `shell.path` 方法的实现&quot;">​</a></h4><p><a href="https://github.com/Schniz/fnm/blob/master/src/shell/powershell.rs#L10" target="_blank" rel="noreferrer"><code>src/shell/powershell.rs</code></a>:</p><div class="language-rs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">rs</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">impl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> for</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PowerShell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> anyhow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> current_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            std</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">var_os</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PATH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ok_or_else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> anyhow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">anyhow!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Can&#39;t read PATH env var&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> mut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> split_paths</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;_&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split_paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">current_path)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 此处可知程序将 `FNM_MULTISHELL_PATH` 的值插入了 Windows 的 `PATH` 变量</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        split_paths</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_path_buf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join_paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(split_paths)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map_err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> anyhow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">anyhow!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Can&#39;t join paths: {}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, source))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> new_path</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ok_or_else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> anyhow</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">anyhow!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Can&#39;t read PATH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        Ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set_env_var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PATH&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, new_path))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    fn</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set_env_var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        format!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">r#&quot;$env:{name} = &quot;{value}&quot;&quot;#</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>至此，可知 <code>fnm env</code> 的主要行为就是将 <code>FNM_MULTISHELL_PATH</code> 的值插入 Windows 的 <code>PATH</code> 环境变量。</p><h3 id="在-nushell-中模仿-powershell-的实现" tabindex="-1">在 Nushell 中模仿 PowerShell 的实现 <a class="header-anchor" href="#在-nushell-中模仿-powershell-的实现" aria-label="Permalink to &quot;在 Nushell 中模仿 PowerShell 的实现&quot;">​</a></h3><p>尝试 Node 命令会发现找不到可执行文件：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:09:18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> node</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nu::shell::external_command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                                          ×</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> External</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╭─</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">entry</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #7:1:1]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> --version</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ──┬─</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╰──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Command</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `node`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> found</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╰────</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  help:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Did</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mean</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `encode`?</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>说明 Nusell 中缺少 fnm 的环境变量（从上文中可知是因为没有设置 <code>FNM_MULTISHELL_PATH</code> 到 <code>PATH</code>）。根据实践可知在 Nushell 中执行 <code>fnm env</code> 会报错：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:02:43</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Can&#39;t infer shell!</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fnm can&#39;t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> infer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> based</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> process</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Maybe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unsupported?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> we</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> support</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shells:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bash</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> zsh</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fish</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> powershell</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cmd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>查看 help 可知可以通过 <code>--json</code> 选项获得 JSON：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:05:19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&quot;FNM_RESOLVE_ENGINES&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_MULTISHELL_PATH&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hyoryu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AppData</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fnm_multishells</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">60016_1727193923024&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_VERSION_FILE_STRATEGY&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_DIR&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;E:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SOFT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">programming</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-manage</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fnm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_COREPACK_ENABLED&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_ARCH&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x64&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_NODE_DIST_MIRROR&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://nodejs.org/dist&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,&quot;FNM_LOGLEVEL&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;info&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>根据 Nushell 官方文档中<a href="https://www.nushell.sh/book/environment.html#load-env" target="_blank" rel="noreferrer">环境变量的章节</a>，得知可以使用 <a href="https://www.nushell.sh/commands/docs/load-env.html" target="_blank" rel="noreferrer"><code>load-env</code></a> 批量设置多个环境变量，它接收一个 JSON 作为参数。</p><p>直接将 <code>fnm env --json</code> 的结果传送给 <code>load-env</code> 会报错说和期望得到的 <code>record</code> 类型不一致：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:05:23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> load-env</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nu::shell::unsupported_input</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ×</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Unsupported</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> input</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╭─</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">entry</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #5:1:1]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> --json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">load-env</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ─┬─</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              ────┬───</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  │</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   ╰──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;load-env&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> expects</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> single</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> record</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ╰──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> originated</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> here</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╰────</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>根据 Nushell 官方文档中<a href="https://www.nushell.sh/book/types_of_data.html#types-of-data" target="_blank" rel="noreferrer">数据类型的章节</a>，可知 <a href="https://www.nushell.sh/commands/docs/describe.html" target="_blank" rel="noreferrer"><code>describe</code></a> 可以检查数据类型。</p><p>用 <code>describe</code> 检查数据 <code>fnm env --json</code> 的数据类型：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:19:04</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> describe</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">byte</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stream</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可知结果为字节流。</p><p>从 <a href="https://www.nushell.sh/book/types_of_data.html#records" target="_blank" rel="noreferrer">Records</a> 章节中可知文章 <a href="https://www.nushell.sh/book/working_with_records.html#creating-records" target="_blank" rel="noreferrer">Working with Records</a>，其中提到可以使用 <a href="https://www.nushell.sh/commands/docs/from_json.html" target="_blank" rel="noreferrer"><code>fromi json</code></a> 命令将 JSON 结构的文字中转化为 Record 类型。</p><p>进行实践：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:30:41</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> describe</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">record</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&lt;FNM_LOGLEVEL:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_COREPACK_ENABLED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_VERSION_FILE_STRATEGY:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_MULTISHELL_PATH:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_NODE_DIST_MIRROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_RESOLVE_ENGINES:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_ARCH:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FNM_DIR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> string&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>验证确实为 Record 类型，将其传递给 <code>load-env</code> 并检验成功与否：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:34:40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.FNM_LOGLEVEL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nu::shell::column_not_found</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ×</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Cannot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> column</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;FNM_LOGLEVEL&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╭─</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">entry</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #1:1:1]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.FNM_LOGLEVEL</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ────────┬────────┬</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         │</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ╰──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> originates</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> here</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ·</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         ╰──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cannot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> column</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;FNM_LOGLEVEL&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ╰────</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:34:44</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fnm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> --json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> | </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">load-env</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:34:49</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.FNM_LOGLEVEL</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">info</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>此时如果尝试执行 <code>node --version</code> 会发现还是报错的，因为根据上文查验 PowerShell 配置的结果，得知了最终要将 <code>FNM_MULTISHELL_PATH</code> 的值插入 <code>PATH</code> 环境变量。</p><p>根据 Nushell 官方文档中<a href="https://www.nushell.sh/book/configuration.html#path-configuration" target="_blank" rel="noreferrer">设置的章节</a>，得知可以使用以下命令来向 <code>PATH</code> 中增加内容：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 除了 `append` 还可以 `prepend`</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> split row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char esep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> append</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/some/path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实践：</p><div class="language-nu vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nu</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 注意如果是 Linux，则 `node` 在 `$env.FNM_MULTISHELL_PATH join &quot;bin` 中。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:44:36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.PATH </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> split row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char esep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> append</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.FNM_MULTISHELL_PATH)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┏</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hyoryu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAM:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 29</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/63GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vitepress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-press</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ≡</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ?3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">┖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"></span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:45:26</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">♥</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> node</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">v20.15.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>至此可以成功执行 Node 命令了。</p><p>将上述步骤加上去重语句写入 <code>$nu.env-path</code>，即能得出文章最开始的结论。</p></div></div></main><footer class="VPDocFooter" data-v-ec29a441 data-v-d562d1df><!--[--><!--]--><div class="edit-info" data-v-d562d1df><!----><div class="last-updated" data-v-d562d1df><p class="VPLastUpdated" data-v-d562d1df data-v-5fb4a2af>Last updated: <time datetime="2024-10-13T22:54:32.000Z" data-v-5fb4a2af></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d562d1df><span class="visually-hidden" id="doc-footer-aria-label" data-v-d562d1df>Pager</span><div class="pager" data-v-d562d1df><a class="VPLink link pager-link prev" href="/zh/programming/coding-memo/neovim/neovim-global-replace.html" data-v-d562d1df><!--[--><span class="desc" data-v-d562d1df>Previous page</span><span class="title" data-v-d562d1df>Neovim 全局替换</span><!--]--></a></div><div class="pager" data-v-d562d1df><a class="VPLink link pager-link next" href="/zh/programming/coding-memo/maven-repository.html" data-v-d562d1df><!--[--><span class="desc" data-v-d562d1df>Next page</span><span class="title" data-v-d562d1df>Maven 配置依赖包安装路径</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"DZESt0_Q\",\"ja_index.md\":\"Bdv3vF56\",\"ja_marxism_reading-note_index.md\":\"VC0U2Jfz\",\"ja_marxism_reading-report_index.md\":\"CUZgLzmI\",\"ja_programming_coding-memo_git-unpushed.md\":\"BQ7tkXC2\",\"ja_programming_coding-memo_maven-repository.md\":\"DbyGYPyd\",\"ja_programming_coding-memo_neovim-garbled-characters.md\":\"C282fA0-\",\"ja_programming_coding-memo_rust-change-windows-kits-root.md\":\"CsXL1gKw\",\"ja_programming_exam-preparation_index.md\":\"Dscj-A55\",\"ja_programming_exam-preparation_it-passport_study-project.md\":\"BjgXVXSY\",\"ja_programming_language_c-sharp_c-sharp_unit-test_command-line.md\":\"BwIuMzBx\",\"ja_programming_language_index.md\":\"GYEiuMJ-\",\"zh_archive_docker-linux-server.md\":\"CQ-BXNlR\",\"zh_archive_passport-renewal.md\":\"DQncjmKk\",\"zh_index.md\":\"De6C7R9a\",\"zh_marxism_reading-note_index.md\":\"DDsi7xrd\",\"zh_marxism_reading-note_lenin_the-state-and-revolution.md\":\"LQe9mxeK\",\"zh_marxism_reading-report_index.md\":\"BKuZ3ZgO\",\"zh_programming_coding-memo_custom-git-bash-prompt.md\":\"BEObuHka\",\"zh_programming_coding-memo_fork-branch-changes-by-forked-repository-user.md\":\"D7EUuXSh\",\"zh_programming_coding-memo_git-unpushed.md\":\"DJy2dLcO\",\"zh_programming_coding-memo_github-multiple-account.md\":\"DFQ9et0K\",\"zh_programming_coding-memo_lan-share.md\":\"mEFN_OTy\",\"zh_programming_coding-memo_maven-repository.md\":\"BSGu5IVx\",\"zh_programming_coding-memo_neovim_neovim-fold-commands.md\":\"B9EqS0-u\",\"zh_programming_coding-memo_neovim_neovim-garbled-characters.md\":\"CVlxvRU4\",\"zh_programming_coding-memo_neovim_neovim-global-replace.md\":\"BI9SJC3S\",\"zh_programming_coding-memo_nushell_nushell-fnm.md\":\"CQxpRbLt\",\"zh_programming_coding-memo_rust-change-windows-kits-root.md\":\"CVexBPs7\",\"zh_programming_database_index.md\":\"CfJpaXhG\",\"zh_programming_database_mysql_use-mysql-on-docker.md\":\"BUdFOJUE\",\"zh_programming_database_sqlite_installation.md\":\"DsC-bkci\",\"zh_programming_language_c-sharp_c-sharp_unit-test_command-line.md\":\"AxrdIUlq\",\"zh_programming_language_c_develop-environment.md\":\"C0VtZ6sL\",\"zh_programming_language_javascript_fnm.md\":\"ChFLltAo\",\"zh_programming_language_javascript_pnpm.md\":\"DJtvvbcx\",\"zh_programming_language_rust_rust-thoughts.md\":\"iDdtYGP8\",\"zh_programming_source-manage-tool_docker_use-docker-with-wsl2.md\":\"CSrmTweN\",\"zh_programming_source-manage-tool_index.md\":\"C7Z9WrYW\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"冰龍與雪風的工作室\",\"description\":\"冰龍與雪風的博客\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":\"dark\",\"themeConfig\":{\"logo\":\"/images/logo.png\",\"outline\":{\"label\":\"Outline\"},\"locales\":{\"/zh/\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/zh/\"},{\"text\":\"文章\",\"items\":[{\"text\":\"编程\",\"items\":[{\"text\":\"资源管理工具\",\"link\":\"/zh/programming/source-manage-tool/\"}]},{\"text\":\"马克思主义\",\"items\":[{\"text\":\"读书笔记\",\"link\":\"/zh/marxism/reading-note/\"},{\"text\":\"读书报告\",\"link\":\"/zh/marxism/reading-report/\"}]}]}]},\"/ja/\":{\"nav\":[{\"text\":\"トップ\",\"link\":\"/ja/\"},{\"text\":\"文章\",\"items\":[{\"text\":\"プログラミング\",\"items\":[{\"text\":\"ソース管理ツール\",\"link\":\"/ja/programming/source-manage-tool/\"},{\"text\":\"試験準備\",\"link\":\"/ja/programming/exam-preparation/\"}]},{\"text\":\"マルクス主義\",\"items\":[{\"text\":\"読書ノート\",\"link\":\"/ja/marxism/reading-note/\"},{\"text\":\"読書レポート\",\"link\":\"/ja/marxism/reading-report/\"}]}]}]}},\"sidebar\":{\"/zh/\":[{\"text\":\"首页\",\"items\":[{\"text\":\"简介\",\"link\":\"/\"}]},{\"text\":\"编程\",\"items\":[{\"text\":\"编程语言\",\"link\":\"/zh/programming/language/javascript/fnm\"},{\"text\":\"数据库\",\"link\":\"/zh/programming/database/\"},{\"text\":\"资源管理工具\",\"link\":\"/zh/programming/source-manage-tool/\"},{\"text\":\"备忘录\",\"link\":\"/zh/programming/coding-memo/maven-repository\"}]},{\"text\":\"马克思主义\",\"items\":[{\"text\":\"读书笔记\",\"link\":\"/zh/marxism/reading-note/\"},{\"text\":\"读书报告\",\"link\":\"/zh/marxism/reading-report/\"}]},{\"text\":\"归档\",\"collapsed\":true,\"items\":[{\"text\":\"护照更新流程\",\"link\":\"/zh/archive/passport-renewal\"},{\"text\":\"使用 Docker 容器创建 linux 服务器\",\"link\":\"/zh/archive/docker-linux-server\"}]}],\"/ja/\":[{\"text\":\"トップ\",\"items\":[{\"text\":\"概要\",\"link\":\"/\"}]},{\"text\":\"プログラミング\",\"items\":[{\"text\":\"プログラミング言語\",\"link\":\"/ja/programming/language/\"},{\"text\":\"試験準備\",\"link\":\"/ja/programming/exam-preparation/\"},{\"text\":\"備忘録\",\"link\":\"/ja/programming/coding-memo/maven-repository\"}]},{\"text\":\"マルクス主義\",\"items\":[{\"text\":\"読書ノート\",\"link\":\"/ja/marxism/reading-note/\"},{\"text\":\"読書レポート\",\"link\":\"/ja/marxism/reading-report/\"}]}],\"/zh/programming/language/\":[{\"text\":\"编程 - 编程语言\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"}]},{\"text\":\"JavaScript / TypeScript\",\"items\":[{\"text\":\"Node 版本管理工具 fnm\",\"link\":\"/zh/programming/language/javascript/fnm\"},{\"text\":\"包管理工具 pnpm\",\"link\":\"/zh/programming/language/javascript/pnpm\"}]},{\"text\":\"Rust\",\"collapsed\":false,\"items\":[{\"text\":\"关于 Rust 的一点看法\",\"link\":\"/zh/programming/language/rust/rust-thoughts\"}]},{\"text\":\"C\",\"collapsed\":false,\"items\":[{\"text\":\"C 语言开发环境\",\"link\":\"/zh/programming/language/c/develop-environment\"}]},{\"text\":\"C#\",\"collapsed\":false,\"items\":[{\"text\":\"命令行单元测试 C#（xUnit）\",\"link\":\"/zh/programming/language/c-sharp/c-sharp_unit-test_command-line\"}]}],\"/ja/programming/language/\":[{\"text\":\"プログラミング - プログラミング言語\",\"items\":[{\"text\":\"トップに戻る\",\"link\":\"/ja/\"},{\"text\":\"プログラミング言語目録\",\"link\":\"/ja/programming/language/\"}]},{\"text\":\"C#\",\"collapsed\":false,\"items\":[{\"text\":\"コマンドラインで C# を単体テスト（xUnit）\",\"link\":\"/ja/programming/language/c-sharp/c-sharp_unit-test_command-line\"}]}],\"/zh/programming/database/\":[{\"text\":\"编程 - 数据库\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"},{\"text\":\"数据库目录\",\"link\":\"/zh/programming/database/\"}]},{\"text\":\"SQLite\",\"collapsed\":false,\"items\":[{\"text\":\"安装 SQLite\",\"link\":\"/zh/programming/database/sqlite/installation\"}]},{\"text\":\"MySQL\",\"collapsed\":false,\"items\":[{\"text\":\"在 Docker 上使用 MySQL\",\"link\":\"/zh/programming/database/mysql/use-mysql-on-docker\"}]}],\"/zh/programming/source-manage-tool/\":[{\"text\":\"编程 - 资源管理工具\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"},{\"text\":\"资源管理工具目录\",\"link\":\"/zh/programming/source-manage-tool/\"}]},{\"text\":\"Docker\",\"items\":[{\"text\":\"以 Windows 为主运行开启 WSL2 功能的 docker\",\"link\":\"/zh/programming/source-manage-tool/docker/use-docker-with-wsl2\"}]}],\"/zh/programming/coding-memo/\":[{\"text\":\"编程 - 备忘录\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"}]},{\"text\":\"Neovim\",\"collapsed\":false,\"items\":[{\"text\":\"Neovim 修改文件文字编码\",\"link\":\"/zh/programming/coding-memo/neovim/neovim-garbled-characters\"},{\"text\":\"Neovim 0.10 内置折叠命令\",\"link\":\"/zh/programming/coding-memo/neovim/neovim-fold-commands\"},{\"text\":\"Neovim 全局替换\",\"link\":\"/zh/programming/coding-memo/neovim/neovim-global-replace\"}]},{\"text\":\"Nushell\",\"collapsed\":false,\"items\":[{\"text\":\"Nushell 配置 fnm 使用 Node.js\",\"link\":\"/zh/programming/coding-memo/nushell/nushell-fnm\"}]},{\"text\":\"配置路径\",\"collapsed\":false,\"items\":[{\"text\":\"Maven 配置依赖包安装路径\",\"link\":\"/zh/programming/coding-memo/maven-repository\"},{\"text\":\"Rust | 更改 Windows Kits (SDK) 安装路径\",\"link\":\"/zh/programming/coding-memo/rust-change-windows-kits-root\"}]},{\"text\":\"工具美化\",\"collapsed\":false,\"items\":[{\"text\":\"自定义 Git Bash 命令行提示符（Prompt）\",\"link\":\"/zh/programming/coding-memo/custom-git-bash-prompt\"}]},{\"text\":\"版本管理\",\"collapsed\":false,\"items\":[{\"text\":\"git 原生命令查看未上传提交记录\",\"link\":\"/zh/programming/coding-memo/git-unpushed\"},{\"text\":\"GitHub 多账户管理及匿名邮箱\",\"link\":\"/zh/programming/coding-memo/github-multiple-account\"},{\"text\":\"由被 fork 的仓库的用户修改 fork 分支\",\"link\":\"/zh/programming/coding-memo/fork-branch-changes-by-forked-repository-user\"}]},{\"text\":\"其他\",\"collapsed\":false,\"items\":[{\"text\":\"使用 LAN 共享文件\",\"link\":\"/zh/programming/coding-memo/lan-share\"}]}],\"/ja/programming/coding-memo/\":[{\"text\":\"プログラミング - 備忘録\",\"items\":[{\"text\":\"トップに戻る\",\"link\":\"/ja/\"}]},{\"text\":\"パス修正\",\"collapsed\":false,\"items\":[{\"text\":\"Maven 依存パッケージインストール先の設定\",\"link\":\"/ja/programming/coding-memo/maven-repository\"},{\"text\":\"Rust | 更改 Windows Kits (SDK) 安装路径\",\"link\":\"/ja/programming/coding-memo/rust-change-windows-kits-root.md\"}]},{\"text\":\"バージョン管理\",\"collapsed\":false,\"items\":[{\"text\":\"git 原生コマンドで未アプロードのコミットを確認する\",\"link\":\"/ja/programming/coding-memo/git-unpushed\"}]},{\"text\":\"その他\",\"collapsed\":false,\"items\":[{\"text\":\"Neovim でファイルの文字コードを変更する\",\"link\":\"/ja/programming/coding-memo/neovim-garbled-characters.md\"}]}],\"/zh/programming/exam-preparation/\":[{\"text\":\"编程 - 考试准备\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"},{\"text\":\"考前准备目录\",\"link\":\"/zh/programming/exam-preparation/\"}]},{\"text\":\"Sample\",\"collapsed\":false,\"items\":[{\"text\":\"SampleItem\",\"link\":\"/zh/programming/exam-preparation/c-sharp/c-sharp_unit-test_command-line\"}]}],\"/ja/programming/exam-preparation/\":[{\"text\":\"プログラミング - 試験準備\",\"items\":[{\"text\":\"トップに戻る\",\"link\":\"/ja/\"},{\"text\":\"試験準備\",\"link\":\"/ja/programming/exam-preparation/\"}]},{\"text\":\"IT パスポート\",\"collapsed\":false,\"items\":[{\"text\":\"学習計画\",\"link\":\"/ja/programming/exam-preparation/it-passport/study-project\"}]}],\"/zh/marxism/reading-note/\":[{\"text\":\"马克思主义 - 读书笔记\",\"items\":[{\"text\":\"回到首页\",\"link\":\"/zh/\"},{\"text\":\"读书笔记目录\",\"link\":\"/zh/marxism/reading-note/\"}]},{\"text\":\"列宁\",\"collapsed\":false,\"items\":[{\"text\":\"国家与革命\",\"link\":\"/zh/marxism/reading-note/lenin/the-state-and-revolution\"}]}],\"/ja/marxism/reading-note/\":[{\"text\":\"マルクス主義 - 読書ノート\",\"items\":[{\"text\":\"トップに戻る\",\"link\":\"/ja/\"},{\"text\":\"読書ノート目録\",\"link\":\"/ja/marxism/reading-note/\"}]}],\"/zh/marxism/reading-report\":[{\"text\":\"马克思主义 - 读书报告\",\"items\":[{\"text\":\"上一级\",\"link\":\"/zh/\"}]}],\"/ja/marxism/reading-report\":[{\"text\":\"マルクス主義 - 読書レポート\",\"items\":[{\"text\":\"戻る\",\"link\":\"/ja/\"}]}]},\"socialLinks\":[{\"icon\":{\"svg\":\"\\n<svg\\n  version=\\\"1.1\\\"\\n  id=\\\"Bilibili\\\"\\n  xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n  xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n  x=\\\"0px\\\"\\n  y=\\\"0px\\\"\\n  viewBox=\\\"0 0 2186.86 999.65\\\"\\n  style=\\\"enable-background: new 0 0 2186.86 999.65\\\"\\n  xml:space=\\\"preserve\\\"\\n>\\n  <style type=\\\"text/css\\\">\\n    .st0 {\\n      # fill: #07a3d7;\\n      fill: #888;\\n    }\\n  </style>\\n  <g>\\n    <path\\n      class=\\\"st0\\\"\\n      d=\\\"M2030.61,892.82c-9.77,0-18.55,0-26.37-0.98c-16.6-0.97-33.2-1.95-49.8-1.95c-10.74,0-10.74,0-11.72-10.74\\n           l-15.63-177.74l-15.62-147.46l-10.74-90.82l-9.77-79.1l-17.58-123.05c-5.86-43.94-12.69-86.91-21.48-130.86\\n           c-0.98-6.83-0.98-7.81,6.84-8.79c30.27-5.86,61.52-8.79,92.77-8.79h10.74c4.88,0.98,7.81,3.91,8.79,9.77l3.91,67.38l27.34,364.26\\n           l13.67,166.99l8.79,95.71L2030.61,892.82L2030.61,892.82z M833.34,112.54h17.58c8.79,0,10.74,2.93,10.74,11.72l7.82,118.17\\n           l17.58,245.11l10.74,127.93l7.81,98.64l15.63,169.92c0,7.81-0.98,8.79-8.79,8.79l-70.32-2.93c-4.88,0.98-7.81-1.95-7.81-6.84\\n           l-2.93-34.18c-2.93-29.29-5.86-58.59-7.81-88.86l-15.63-154.3l-16.6-139.65l-11.72-98.63l-12.69-89.85\\n           c-5.86-40.04-12.7-81.05-19.53-121.09l-4.89-27.34c-0.97-4.89,0-6.84,4.89-7.82C774.75,116.45,801.12,111.57,833.34,112.54\\n           L833.34,112.54L833.34,112.54z M1815.77,506.1c24.41,0,27.34,0.98,31.25,24.41c4.88,29.3,8.79,58.6,11.72,87.89l10.74,94.73\\n           l20.51,201.17c0.97,4.89,0,6.84-4.89,6.84l-76.17,8.79c-7.81,0.97-9.77,0-10.74-7.81l-43.95-224.61l-27.34-149.42l-3.91-20.51\\n           c-0.97-3.9,0.98-6.83,4.89-7.81C1758.15,512.94,1787.45,508.05,1815.77,506.1L1815.77,506.1L1815.77,506.1z M705.41,506.1\\n           c26.37-0.98,29.3,1.95,32.23,26.37c6.84,40.04,11.72,79.1,15.63,119.14l12.69,117.18l7.81,79.11l6.84,63.47\\n           c0,8.79-0.98,10.75-8.79,11.72l-72.26,6.84c-7.82,0.97-9.77,0-10.75-7.81l-59.57-306.65l-15.62-86.91\\n           c-0.98-4.88,0.97-7.81,5.86-8.79C649.75,512.94,678.07,508.05,705.41,506.1L705.41,506.1L705.41,506.1z M1078.46,808.83v121.1v3.9\\n           c0.98,5.86-1.95,8.79-7.81,7.82h-23.44c-16.6,0-33.2,0.97-49.8,1.95c-8.79,0.98-9.77,0.98-10.75-9.77l-15.62-175.78l-7.81-86.91\\n           l-11.72-132.81c-0.98-10.75,0.98-12.7,9.76-13.68c27.35-2.93,54.69-2.93,82.04-1.95l20.5,2.93c7.82,2.93,8.79,3.91,8.79,11.72\\n           l2.93,52.73l0.98,58.6C1077.49,702.39,1078.46,755.12,1078.46,808.83L1078.46,808.83L1078.46,808.83z M2186.86,814.69v114.26v5.86\\n           c0,4.88-1.95,7.81-6.84,6.84h-35.15c-13.67,0-27.35,0.97-40.04,1.95c-7.81,0.98-8.79,0-9.77-8.79l-20.5-228.52l-10.75-113.28\\n           l-3.9-57.61c-0.98-7.82,0.97-9.77,8.79-9.77c32.22-3.91,65.43-4.88,97.65-0.98c12.7,0.98,14.65,4.89,15.63,17.58l2.93,129.88\\n           L2186.86,814.69L2186.86,814.69z M1787.45,298.09c9.76,0,18.55,0.98,25.39,1.95c4.88,0.98,6.83,2.93,7.81,7.82l12.69,135.74\\n           c2.93,11.72,0.98,13.67-10.74,13.67l-33.2,1.95c-6.84,0.98-9.77,1.96-9.77-8.78l-13.67-110.36l-3.9-31.25\\n           c-0.98-5.86,0.97-8.79,6.83-9.76L1787.45,298.09L1787.45,298.09z M681,298.09c7.81,0,15.63,0.98,22.46,1.95\\n           c3.91,0.98,5.86,2.93,6.84,7.82l3.9,34.18l9.77,106.44c0.98,7.81,0.98,8.79-6.84,8.79l-38.08,1.95c-7.81,0.98-8.79,0-9.77-7.81\\n           l-8.79-78.12l-7.81-65.43c-0.98-4.89,0.98-7.82,5.86-7.82C665.38,299.07,673.19,298.09,681,298.09L681,298.09L681,298.09z\\n            M1070.65,395.75v67.38c0.98,10.74-0.98,10.74-9.77,10.74c-12.69,0-24.41-0.97-36.13-1.95c-7.81-0.98-8.79-0.98-7.81-8.79\\n           l-2.93-83.01c0-18.55,0-37.11-0.98-55.66c-0.97-8.79,0-9.77,8.79-9.77c13.67,0,27.34,0.98,41.02,2.93c7.81,0,7.81,1.96,7.81,9.77\\n           V395.75L1070.65,395.75z M2180.02,396.72v67.39c0,8.79-0.97,9.76-9.76,9.76l-37.11-1.95c-5.86-0.98-8.79-3.91-7.81-8.79\\n           l-2.93-139.65c0-7.81,0.97-8.79,8.79-8.79c12.69,0,24.41,0.98,36.13,1.96c14.65,0.97,12.69,3.9,12.69,14.64L2180.02,396.72\\n           L2180.02,396.72z M650.73,449.46c0.97,11.72,0,13.67-11.72,14.65l-23.44,5.86c-7.81,2.93-8.79,0.97-9.76-5.86l-24.42-137.7\\n           c-2.93-8.79-0.98-10.74,7.81-11.72l34.18-5.86c7.82-0.97,9.77-0.97,9.77,6.84c2.93,16.6,5.86,33.2,7.81,49.8l9.77,78.13\\n           L650.73,449.46L650.73,449.46z M1689.79,315.67c14.65-2.93,30.27-4.88,45.9-6.84c4.88-0.97,6.83,1.96,7.81,6.84l7.81,53.71\\n           c3.91,26.37,6.84,52.73,7.82,79.1v7.81c0.97,3.91-0.98,6.84-4.89,7.82l-31.25,6.83c-4.88,0.98-6.83-0.97-7.81-5.86l-25.39-145.5\\n           V315.67L1689.79,315.67z M996.43,421.14c0,15.62-0.98,30.27-1.95,43.94c0,4.89-1.96,6.84-6.84,7.82l-30.27,2.93\\n           c-4.88,0.97-6.84-1.96-6.84-6.84c-1.95-14.65-2.93-28.32-3.9-42.97c-1.96-26.37-3.91-53.71-4.89-81.05l-1.95-19.53\\n           c-0.98-3.91,0.98-5.86,4.88-5.86l40.04-2.93c6.84,0,8.79,0.97,8.79,8.79L996.43,421.14L996.43,421.14z M2103.85,405.51\\n           c0.98,18.56,0.98,38.09,0,56.64c0.98,8.79-0.97,10.75-9.76,10.75l-27.35,2.93c-4.88,0.97-7.81-1.96-7.81-6.84\\n           c-0.98-24.41-2.93-49.8-4.88-74.22l-3.91-68.36c-0.98-4.88,0.98-6.83,4.88-6.83l39.07-2.93c6.83,0,7.81,0.97,7.81,8.79\\n           C2103.85,351.8,2104.83,379.15,2103.85,405.51L2103.85,405.51L2103.85,405.51z M612.64,738.52c15.63,18.56,18.56,39.06,11.72,61.52\\n           c-5.86,21.49-16.6,40.04-32.23,55.67c-25.39,26.37-54.68,47.85-86.91,64.45c-55.66,29.3-113.28,49.81-174.81,60.55\\n           c-43.94,8.79-87.89,14.65-131.83,17.58c-13.67,0.97-27.34,0.97-41.02,0.97h-29.29c-7.82,0-9.77-1.95-10.75-9.76l-6.83-94.73\\n           L92.13,708.25l-20.5-177.74l-11.72-94.72l-12.7-90.82c-6.83-49.81-15.62-99.61-24.41-149.42C15.96,155.51,9.13,115.47,0.34,75.44\\n           c-0.98-4.89,0-8.79,4.88-9.77L140.96,9.03c8.79-3.91,16.6-6.84,25.39-8.79c5.86-0.98,8.79,0.98,7.81,6.84\\n           c0,15.62,0,31.25-0.97,47.85l-0.98,12.69c-0.97,56.64-0.97,113.28,0,170.9c0.98,49.81,3.91,100.59,6.84,150.39\\n           c4.88,78.13,12.69,156.25,20.51,233.4c0,7.81,0.97,7.81,9.76,6.84c16.6-2.93,32.23-3.91,48.83-3.91\\n           c51.76,0,103.51,5.86,153.32,18.55c43.94,10.75,85.94,25.4,127.93,43.95c20.51,9.77,39.06,21.48,56.64,35.16\\n           C602.88,727.78,607.76,732.66,612.64,738.52L612.64,738.52L612.64,738.52z M1713.23,729.73c20.51,16.6,27.34,39.06,21.48,65.43\\n           c-4.88,21.49-14.65,40.04-29.3,56.64c-23.43,26.37-50.78,46.88-81.05,63.48c-58.59,32.23-121.09,54.69-187.5,66.41\\n           c-36.13,6.83-72.27,12.69-108.4,15.62c-20.51,1.95-42.97,2.93-65.43,1.95h-26.37c-5.85,0.98-8.78-1.95-8.78-7.81\\n           c-1.96-27.34-3.91-54.69-6.84-82.03l-15.63-166.99l-16.6-145.51l-20.5-164.06c-2.93-28.32-6.84-57.62-11.72-85.94l-17.58-109.38\\n           c-7.81-51.75-17.58-103.51-28.32-155.27l-0.98-6.83c-1.95-4.89,0-8.79,4.88-9.77c47.86-19.53,94.73-41.02,142.58-59.57\\n           c12.7-4.88,28.32-10.74,27.35,0.98c-3.91,36.13-2.93,72.26-3.91,107.42c-0.98,29.29-0.98,58.59,0.98,86.91v22.46\\n           c0,35.16,0.97,70.32,3.9,104.49c1.96,45.9,4.89,92.78,8.79,138.68l8.79,98.63c0.98,18.55,2.93,36.13,5.86,54.69\\n           c0,10.74,1.95,9.76,10.74,8.79c17.58-2.93,35.16-3.91,52.74-3.91c61.52,0.98,121.09,10.74,179.68,27.34\\n           c40.04,10.75,78.13,25.39,115.24,44.93C1683.93,706.29,1698.58,717.04,1713.23,729.73L1713.23,729.73L1713.23,729.73z\\n            M301.12,901.61c14.65-8.79,40.04-26.37,75.19-53.71c35.16-28.32,56.64-46.88,65.43-56.64c-52.73-23.44-107.42-43.95-164.06-62.5\\n           L301.12,901.61L301.12,901.61z M1548.19,796.14c2.93-2.93,1.95-4.88-0.98-6.84l-23.44-9.76c-41.01-17.58-82.03-33.21-124.02-46.88\\n           l-5.86-1.95c-1.95-0.98-3.9,0-6.83,0.98l23.43,168.94c2.93,0,4.89-0.98,5.86-1.95c38.09-27.35,76.17-55.67,114.26-85.94\\n           L1548.19,796.14L1548.19,796.14z\\\"\\n    />\\n  </g>\\n</svg>\\n\"},\"link\":\"https://space.bilibili.com/262993\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/Setsuiki_Hyoryu\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/channel/UCUeg9mYxtAp3ZqHfahPAPbQ/featured\"},{\"icon\":\"github\",\"link\":\"https://github.com/SetsuikiHyoryu/SetsuikiHyoryu.github.io\"}]},\"locales\":{\"zh\":{\"lang\":\"zh-CN\",\"label\":\"中文\",\"title\":\"冰龍與雪風的工作室\",\"description\":\"冰龍與雪風的博客\"},\"ja\":{\"lang\":\"ja\",\"label\":\"日本語\",\"title\":\"冰龍と雪風のアトリエ\",\"description\":\"冰龍と雪風のブログ\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>