import{r as o,o as r,c as l,a as n,b as t,F as p,d as s,e as a}from"./app.275f129f.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const i={},u=n("h1",{id:"\u547D\u4EE4\u884C\u5355\u5143\u6D4B\u8BD5-c-xunit",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u547D\u4EE4\u884C\u5355\u5143\u6D4B\u8BD5-c-xunit","aria-hidden":"true"},"#"),s(" \u547D\u4EE4\u884C\u5355\u5143\u6D4B\u8BD5 C#\uFF08xUnit\uFF09")],-1),d=s("xUnit \u5355\u5143\u6D4B\u8BD5\u5B98\u65B9\u6587\u6863\uFF1A"),h={href:"https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-with-dotnet-test",target:"_blank",rel:"noopener noreferrer"},b=s("https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-with-dotnet-test"),m=n("h2",{id:"\u5728\u5DF2\u6709\u7684-solution-\u4E2D\u521B\u5EFA\u6D4B\u8BD5\u9879\u76EE",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5728\u5DF2\u6709\u7684-solution-\u4E2D\u521B\u5EFA\u6D4B\u8BD5\u9879\u76EE","aria-hidden":"true"},"#"),s(" \u5728\u5DF2\u6709\u7684 solution \u4E2D\u521B\u5EFA\u6D4B\u8BD5\u9879\u76EE")],-1),g=s("\u203B \u4ECE 0 \u65B0\u5EFA solution \u7684\u8BDD\u8BF7\u53C2\u89C1"),_={href:"https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-with-dotnet-test#create-the-solution",target:"_blank",rel:"noopener noreferrer"},k=s("\u5B98\u65B9\u6587\u6863"),v=n("br",null,null,-1),f=s(" \u203B \u901A\u5E38\u65E2\u5B58\u7684\u9879\u76EE\u4E2D\u5DF2\u6709\u4EBA\u521B\u5EFA\u4E86\u5355\u5143\u6D4B\u8BD5\u7684\u9879\u76EE"),x=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># -o|--output &lt;OUTPUT_DIRECTORY&gt;</span>
<span class="token comment"># \u751F\u6210\u5185\u5BB9\u7684\u8F93\u51FA\u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A\u5F53\u524D\u6587\u4EF6\u5939</span>
dotnet new xunit --output PrimeService.Tests
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E00\u4E2A\u5305\u542B\u4E86\u5355\u5143\u6D4B\u8BD5\u9879\u76EE\u7684 solution\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/unit-testing-using-dotnet-test
    unit-testing-using-dotnet-test.sln
    /PrimeService
        PrimeService.cs
        PrimeService.csproj
    /PrimeService.Tests
        PrimeService_IsPrimeShould.cs
        PrimeServiceTests.csproj
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="\u521B\u5EFA\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u6D4B\u8BD5" aria-hidden="true">#</a> \u521B\u5EFA\u6D4B\u8BD5</h2>`,4),T=s("\u5B98\u65B9\u6587\u6863: "),R={href:"https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-with-dotnet-test#create-a-test",target:"_blank",rel:"noopener noreferrer"},w=s("https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-with-dotnet-test#create-a-test"),z=a(`<p>\u203B \u901A\u5E38\u4EFF\u7167\u9879\u76EE\u4E2D\u5DF2\u6709\u7684\u6D4B\u8BD5\u5199\u6CD5\u5373\u53EF</p><h2 id="\u6267\u884C\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u6D4B\u8BD5" aria-hidden="true">#</a> \u6267\u884C\u6D4B\u8BD5</h2><p>\u5728\u6709 <code>.csproj</code> \u6587\u4EF6\u6D4B\u8BD5\u9879\u76EE\u76EE\u5F55\u4E0B\u6267\u884C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u203B \u8FD9\u4E2A\u884C\u4E3A\u5C06\u542F\u52A8\u6D4B\u8BD5\u9879\u76EE\u4E0B\u7684\u6240\u6709\u6D4B\u8BD5</p><h3 id="\u6267\u884C\u9009\u5B9A\u7684\u5355\u5143\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u9009\u5B9A\u7684\u5355\u5143\u6D4B\u8BD5" aria-hidden="true">#</a> \u6267\u884C\u9009\u5B9A\u7684\u5355\u5143\u6D4B\u8BD5</h3>`,6),q=s("\u5B98\u65B9\u6587\u6863\uFF1A"),C={href:"https://docs.microsoft.com/zh-cn/dotnet/core/testing/selective-unit-tests?pivots=xunit",target:"_blank",rel:"noopener noreferrer"},G=s("https://docs.microsoft.com/zh-cn/dotnet/core/testing/selective-unit-tests?pivots=xunit"),N=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token builtin class-name">test</span> --filter <span class="token operator">&lt;</span>Property<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Operator<span class="token operator">&gt;</span><span class="token operator">&lt;</span>Value<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token operator">|&amp;</span><span class="token operator">&lt;</span>Expression<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u4F8B\uFF0C\u6D4B\u8BD5\u6307\u5B9A\u7684\u6587\u4EF6\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token builtin class-name">test</span> --filter <span class="token operator">&lt;</span>NamseSpace<span class="token operator">&gt;</span>.<span class="token operator">&lt;</span>ClassName<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u6253\u5370\u8F93\u51FA\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u6253\u5370\u8F93\u51FA\u5185\u5BB9" aria-hidden="true">#</a> \u6253\u5370\u8F93\u51FA\u5185\u5BB9</h2>`,4),P=s("\u5B98\u65B9\u6587\u6863\uFF1A"),S={href:"https://xunit.net/docs/capturing-output",target:"_blank",rel:"noopener noreferrer"},y=s("https://xunit.net/docs/capturing-output"),E=a(`<div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>using Xunit<span class="token punctuation">;</span>
using Xunit<span class="token punctuation">.</span>Abstractions<span class="token punctuation">;</span>

public class MyTestClass
<span class="token punctuation">{</span>
    <span class="token comment">// \u521B\u5EFA ITestOutputHelper \u5B9E\u4F8B</span>
    private readonly ITestOutputHelper output<span class="token punctuation">;</span>

    <span class="token comment">// \u4F20\u5165 ITestOutputHelper \u5B9E\u4F8B</span>
    public <span class="token function">MyTestClass</span><span class="token punctuation">(</span>ITestOutputHelper output<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// \u5C06\u4F20\u5165\u503C\u8D4B\u7ED9\u5F53\u524D\u7C7B\u4E2D\u7684\u5B9E\u4F8B</span>
        this<span class="token punctuation">.</span>output <span class="token operator">=</span> output<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span>Fact<span class="token punctuation">]</span>
    public <span class="token keyword">void</span> <span class="token function">MyTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        var temp <span class="token operator">=</span> <span class="token string">&quot;my class!&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u5185\u5BB9\u5728\u6267\u884C \`dotnet test\` \u540E\u7684\u8868\u793A\u5185\u5BB9\u4E2D\u663E\u793A</span>
        output<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">&quot;This is output from {0}&quot;</span><span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token builtin class-name">test</span> --logger <span class="token string">&quot;console;verbosity=detailed&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u4F7F\u7528-reportgenerator-\u68C0\u67E5\u6D4B\u8BD5\u8986\u76D6\u7387" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-reportgenerator-\u68C0\u67E5\u6D4B\u8BD5\u8986\u76D6\u7387" aria-hidden="true">#</a> \u4F7F\u7528 ReportGenerator \u68C0\u67E5\u6D4B\u8BD5\u8986\u76D6\u7387</h2>`,3),I=s(".NET \u5B98\u7F51\uFF1A"),j={href:"https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-code-coverage?tabs=windows#generate-reports",target:"_blank",rel:"noopener noreferrer"},O=s("https://docs.microsoft.com/zh-cn/dotnet/core/testing/unit-testing-code-coverage?tabs=windows#generate-reports"),H=s("ReportGenerator \u5B98\u65B9\u4ED3\u5E93\uFF1A"),L={href:"https://github.com/danielpalme/ReportGenerator",target:"_blank",rel:"noopener noreferrer"},U=s("https://github.com/danielpalme/ReportGenerator"),V=a(`<h3 id="\u4F7F\u7528-datacollectors-\u751F\u6210-xml-\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-datacollectors-\u751F\u6210-xml-\u6587\u4EF6" aria-hidden="true">#</a> \u4F7F\u7528 DataCollectors \u751F\u6210 xml \u6587\u4EF6</h3><p>\u203B \u8BE5\u5DE5\u5177\u6240\u4F9D\u8D56\u7684 <code>coverlet.collector</code> \u5DE5\u5177\u5DF2\u4E0E xUnit \u96C6\u6210\uFF0C\u65E0\u987B\u53E6\u5916\u624B\u52A8\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token builtin class-name">test</span> --collect:<span class="token string">&quot;XPlat Code Coverage&quot;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u8FD0\u884C\u547D\u4EE4\u540E\uFF0C\u4F1A\u5728\u5F53\u524D\u76EE\u5F55\u4E0B\u751F\u6210 TestResults \u76EE\u5F55\uFF0C\u5176\u4E2D\u5305\u542B coverage.cobertura.xml \u6587\u4EF6</p><h3 id="\u4F7F\u7528-reportgenerator-\u6839\u636E-xml-\u6587\u4EF6\u751F\u6210\u62A5\u8868" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-reportgenerator-\u6839\u636E-xml-\u6587\u4EF6\u751F\u6210\u62A5\u8868" aria-hidden="true">#</a> \u4F7F\u7528 ReportGenerator \u6839\u636E xml \u6587\u4EF6\u751F\u6210\u62A5\u8868</h3><h4 id="\u4F7F\u7528-net-\u81EA\u5E26-nuget-\u5DE5\u5177\u5B89\u88C5-reportgenerator-\u5305" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-net-\u81EA\u5E26-nuget-\u5DE5\u5177\u5B89\u88C5-reportgenerator-\u5305" aria-hidden="true">#</a> \u4F7F\u7528 .NET \u81EA\u5E26 NuGet \u5DE5\u5177\u5B89\u88C5 ReportGenerator \u5305</h4>`,6),B=n("code",null,"dotnet tool",-1),D=s(" \u547D\u4EE4\u5B98\u7F51: "),F={href:"https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-tool-install",target:"_blank",rel:"noopener noreferrer"},M=s("https://docs.microsoft.com/zh-cn/dotnet/core/tools/dotnet-tool-install"),X=s("\u6559\u7A0B\uFF1A\u4F7F\u7528 .NET CLI \u5B89\u88C5\u548C\u4F7F\u7528 .NET \u672C\u5730\u5DE5\u5177\uFF1A"),A={href:"https://docs.microsoft.com/zh-cn/dotnet/core/tools/local-tools-how-to-use",target:"_blank",rel:"noopener noreferrer"},W=s("https://docs.microsoft.com/zh-cn/dotnet/core/tools/local-tools-how-to-use"),Y=s("\u203B \u5168\u5C40\u5B89\u88C5\u6BD4\u8F83\u7B80\u5355\uFF0C\u60F3\u88C5\u5728\u5168\u5C40\u7684\u53EF\u4EE5\u81EA\u884C\u67E5\u770B ReportGenerator \u5B98\u65B9\u4ED3\u5E93\u7684 "),J={href:"https://github.com/danielpalme/ReportGenerator#install-the-package-matching-your-platform-and-needs",target:"_blank",rel:"noopener noreferrer"},K=s("Getting started"),Q=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u521B\u5EFA Dotnet \u672C\u5730\uFF08\u5F53\u524D\u76EE\u5F55\uFF09\u5DE5\u5177\u6E05\u5355\u6587\u4EF6</span>
dotnet new tool-manifest

<span class="token comment"># \u5728\u672C\u5730\u5B89\u88C5 ReportGenerator</span>
<span class="token comment"># \u5B89\u88C5\u540E\u5C06\u5728\u5F53\u524D\u76EE\u5F55\u751F\u6210 .config \u76EE\u5F55\u53CA dotnet-tools.json \u6587\u4EF6</span>
dotnet tool <span class="token function">install</span> dotnet-reportgenerator-globaltool

<span class="token comment"># \u6267\u884C\u672C\u5730\u5B89\u88C5\u7684\u5305</span>
<span class="token comment"># &lt;Command&gt; \u53EF\u901A\u8FC7 \`gotnet tool list\` \u6216 .config/dotnet-tools.json \u67E5\u770B</span>
dotnet tool run <span class="token operator">&lt;</span>Command<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="\u751F\u6210\u62A5\u8868" tabindex="-1"><a class="header-anchor" href="#\u751F\u6210\u62A5\u8868" aria-hidden="true">#</a> \u751F\u6210\u62A5\u8868</h4><p>\u203B \u76EE\u5F55\u53EF\u4EE5\u81EA\u5B9A\u4E49</p><ol><li><p>\u5C06 <code>./TestResults/&lt;Hash&gt;/</code> \u4E0B\u7684 coverage.cobertura.xml \u6587\u4EF6\u62D6\u5165 <code>./TestResults</code> \u4E2D</p></li><li><p>\u8FD0\u884C ReportGenerator</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5B89\u88C5\u5728\u5168\u5C40\u7684\u8BDD\u6307\u4EE4\u524D\u4E0D\u9700\u8981\u52A0 \`dotnet tool run\`</span>
dotnet tool run reportgenerator <span class="token variable"><span class="token variable">\`</span>
-reports:<span class="token string">&quot;./TestResults/coverage.cobertura.xml&quot;</span> <span class="token variable">\`</span></span>
-targetdir:<span class="token string">&quot;./TestResults/coveragereport&quot;</span> \`
-reporttypes:Html
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u6253\u5F00 coveragereport/index.html \u67E5\u770B\u62A5\u8868</p></li></ol>`,4);function Z($,nn){const e=o("ExternalLinkIcon");return r(),l(p,null,[u,n("p",null,[d,n("a",h,[b,t(e)])]),m,n("p",null,[g,n("a",_,[k,t(e)]),v,f]),x,n("p",null,[T,n("a",R,[w,t(e)])]),z,n("p",null,[q,n("a",C,[G,t(e)])]),N,n("p",null,[P,n("a",S,[y,t(e)])]),E,n("ul",null,[n("li",null,[I,n("a",j,[O,t(e)])]),n("li",null,[H,n("a",L,[U,t(e)])])]),V,n("ul",null,[n("li",null,[B,D,n("a",F,[M,t(e)])]),n("li",null,[X,n("a",A,[W,t(e)])])]),n("p",null,[Y,n("a",J,[K,t(e)])]),Q],64)}var tn=c(i,[["render",Z]]);export{tn as default};
