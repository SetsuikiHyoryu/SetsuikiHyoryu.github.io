import{_ as o,c as e,o as t,a3 as i}from"./chunks/framework.cbz3UF0a.js";const p=JSON.parse('{"title":"Rust | Widnow Kits (SDK) インストールパスの修正","description":"","frontmatter":{},"headers":[],"relativePath":"ja/programming/coding-memo/rust-change-windows-kits-root.md","filePath":"ja/programming/coding-memo/rust-change-windows-kits-root.md","lastUpdated":1710210984000}'),a={name:"ja/programming/coding-memo/rust-change-windows-kits-root.md"},s=i('<h1 id="rust-widnow-kits-sdk-インストールパスの修正" tabindex="-1">Rust | Widnow Kits (SDK) インストールパスの修正 <a class="header-anchor" href="#rust-widnow-kits-sdk-インストールパスの修正" aria-label="Permalink to &quot;Rust | Widnow Kits (SDK) インストールパスの修正&quot;">​</a></h1><h2 id="問題記述" tabindex="-1">問題記述 <a class="header-anchor" href="#問題記述" aria-label="Permalink to &quot;問題記述&quot;">​</a></h2><p>Windows で Rust をインストールする際に Visual Studio で C++ desktop development パッケージのインストールが要求される。Rust がその中の Windows SDK を依存しているからだ。しかしこの方法ではデフォルトのインストールしかできない。Windows SDK のデフォルトのインストールではパス環境を汚染してしまう。</p><p>これは Rust 特有の問題ではなく、もし貴方が C++ で開発しても同じ問題に遭う。</p><h2 id="解決案" tabindex="-1">解決案 <a class="header-anchor" href="#解決案" aria-label="Permalink to &quot;解決案&quot;">​</a></h2><p>先ず手動でWindows SDK をインストールすべき。インストーラーは Window の <a href="https://developer.microsoft.com/en-us/windows/downloads/windows-sdk/" target="_blank" rel="noreferrer">HP</a> でダウンロードできる。しかし、実行したらデフォルトのインストールパスの修正が許されていない。ここはレジストリの中の Windows Kits のインストールパスを変えないといけない。</p><p>レジストリの修正後、Windows SDK のインストーラーが修正後のパスをデフォルトパスとして認識する。インストールの続きをして、完成後に Windows Kits ディレクトリのパスはレジストリ修正後のパスと一致するはず。</p><p>最初は手動で Windows Kits ディレクトリを移動しようとしたが、Rust の命令を実行したら <code>Link.exe</code> が見つからないというエラーが出た。レジストリを修正して、Visual Studio でもう一度 C++ desktop development をインストールしても <code>kernel32.lib</code> が開けないというエラーが出る。最後に前述のやり方で成功した。</p><h3 id="参考資料" tabindex="-1">参考資料 <a class="header-anchor" href="#参考資料" aria-label="Permalink to &quot;参考資料&quot;">​</a></h3><ul><li><a href="https://stackoverflow.com/questions/44801241/change-windows-kit-common-installation-path" target="_blank" rel="noreferrer">change windows kit common installation path</a></li></ul><h2 id="操作フロー" tabindex="-1">操作フロー <a class="header-anchor" href="#操作フロー" aria-label="Permalink to &quot;操作フロー&quot;">​</a></h2><ol><li>win + R を実行し、regedit でレジストリを開く。</li><li><code>Computer\\HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\Microsoft\\Windows Kits\\Installed Roots</code> を見つけ、選択する。存在しなければ手動で作成する。</li><li><code>KitsRoot10</code> を希望のパスに修正する。似たようなプロパティが存在する場合は全部修正する必要がある。</li><li>Windows <a href="https://developer.microsoft.com/en-us/windows/downloads/windows-sdk/" target="_blank" rel="noreferrer">HP</a> で Windows SDK のインストーラーをダウンロードする。</li><li>インストーラーを開いて Windows SDK をインストールする。この時にデフォルトのインストールパスはレジストリの修正後のパスになっているはず。</li><li>インストールが完了したら古い SDK を削除することを推奨する。</li><li>Rust 命令を実行して正常の動作するかを確認する。</li></ol>',12),n=[s];function r(d,l,c,h,w,u){return t(),e("div",null,n)}const _=o(a,[["render",r]]);export{p as __pageData,_ as default};
